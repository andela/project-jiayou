<div ng-cloak id="cards-container" ng-hide="game.state === 'game ended' || game.state ==='game dissolved'" style="background: url(img/bluewood.jpg)">
<div id="social-bar-container">
</div>
<div>
    <div id="cards" class='hand' style="background: url(img/bluewood.jpg)">
<span ng-show="winnerPicked()"></span>
<div ng-style="{'cursor':'pointer'}" class="card smallest" id='answers' ng-click="pickCard(card)" ng-hide="showTable || isCzar()"
    ng-repeat="card in game.players[game.playerIndex].hand" ng-animate="{enter:'animated fadeInUp', leave: 'animated fadeInOut'}">
    <div class="the-card">
        <span ng-bind-html-unsafe="card.text"></p>
                    <span id='selection-number' ng-show="showFirst(card)"> 1 </span>
        <span id='selection-number' ng-show="showSecond(card)"> 2 </span>

    </div>
</div>

<!--<span ng-bind-html-unsafe="card.text"></span>
                <span id='selection-number' ng-show="showFirst(card)"> 1 </span>
                <span id='selection-number' ng-show="showSecond(card)"> 2 </span>-->
</div>
<span ng-repeat="answer in game.table">
        <div class="card smallest " ng-style="pointerCursorStyle()" id='table' ng-click="pickWinning(answer)" ng-show="showTable || isCzar()"
        ng-repeat="card in answer.card" ng-animate="{enter:'animated bounceInLeft'}" style="background-color:{{winningColor($parent.$index)}}">
<div class="the-card">
    <span ng-bind-html-unsafe="card.text"></span>
    <span id='selection-number' ng-show="firstAnswer($index)"> 1 </span>
    <span id='selection-number' ng-show="secondAnswer($index)"> 2 </span>
</div>
</div>
</span>
</div>

</div>

</div>
<div ng-show="game.state === 'awaiting players'">
    <ul class="collection white-text green darken-1" style="padding-left: 7px;">
<li>
    <h4 style="text-align: center;">How To Play</h4>
</li>
<hr>

<li>
    Each player begins with, and will always have, 10 white answer cards.
</li>
<br>
<li>
    <div>For each round, one player is randomly chosen as the Card Czar.</div>
</li>
<br>
<li>
    <div>Everyone else answers the black question card by clicking on the answer card they want to use.</div>
</li>
<br>
<li>
    <div>The Card Czar then picks a favorite answer, and whoever played that answer wins the round.</div>
</li>
<br>
<li>
    <div><a id="invBtn" ng-click="getEmail()">Click to Invite Users</a></div>
</li>
<li class="">
    <div class="card-panel hoverable blue darken-2 white-text collection-item">*Want to adorn your avatar with a glorious crown? Donate to charity after the game!</div>
</li>
</ul>
</div>

<div id="invModal" class="modal">
    <!-- Modal content -->
    <div class="modal-content size">
        <span class="close">&times;</span>
        <div class="alert alert-success" ng-if="showSuccessAlert">
            <strong>Invite sent successfully!!</strong>
        </div>
        <div class="alert alert-warning" ng-if="showAlert2">
            <strong>Only a maximum of 12 players are allowed per game!</strong>
        </div>
        <div class="alert alert-warning" ng-if="showWarningAlert">
            <strong>Oops! You cannot invite yourself!</strong>
        </div>
        <form class="" ng-submit="sendInvite()">
            <div id='email' style="text-align: left">

<label style="font-size:15px">Enter email to send invites</label>
<input type="text" list="emails" id = "select" placeholder="Enter Email">
<datalist id="emails" >
    <option ng-repeat="email in emails"  value = "{{email}}" >
    </option>
</datalist>
</div>
<div>
    <button id="myBtn" class="btn btn-default btn-primary">Send Invite</button>
</div>
</form>
</div>
</div>
<!-- End -->
</div>
<div id="game-end-container" ng-show="game.state === 'game ended' || game.state ==='game dissolved'">
    <div id="inner-info-exit">
        <div class="game-end-answer-text" ng-show="game.state ==='game dissolved' && game.gameWinner === -1">
            <h2>What would you like to do now?</h2>
            You might consider donating to charity to atone for the horrifying answers you've submitted. Donating will also place a lovely
            crown on your avatar's head.
        </div>
        <div class="game-end-answer-text" ng-show="game.state === 'game ended' || game.gameWinner !== -1">
            <h2>What would you like to do now?</h2>
            Help yourself to another game or help a child in need? Donating will also place a lovely crown on your avatar's head.
        </div>
        <div id='inner-text-container'>
            <a href='/#!/app'>
                <div id="join-new-game" ng-click="game.joinGame('joinNewGame')">
                    Join a New Game
                </div>
            </a>
            <a href='/'>
                <div id="exit-match">
                    Return to Lobby
                </div>
            </a>
        </div>
    </div>
    <div id="charity-widget-container">
        <!-- This is real -->
        <a href="http://www.crowdrise.com" id="crowdriseStaticLink-fundraiser-121142" title="Fundraising Websites on Crowdrise">Fundraising Websites - Crowdrise</a>
        <script type="text/javascript" src="https://www.crowdrise.com/widgets/donate/fundraiser/121142/?callback=userDonationCb"></script>
        <!-- This is for testing -->
        <!-- <a href="http://www.crowdrise.com" id="crowdriseStaticLink-project-36715" title="Fundraising Websites on Crowdrise">Fundraising Websites - Crowdrise</a> -->
        <!-- <script type="text/javascript" src="https://apisandbox.crowdrise.com/widgets/donate/project/36715/?callback=userDonationCb"></script> -->
    </div>
</div>
<div id="czar-blank-container" ng-show="isCzar() && game.table.length===0 && game.state !== 'game dissolved' && game.state !== 'awaiting players'">
    <div id="czar-blank-inner">
        You are the Card Czar. <br>
        <span id="smaller-text">Players are choosing their answers. Prepare to select a winner.</span>
    </div>
    <div id='charity-fact-container'>
        <div id='charity-fact-tagline'>Did you know?</div>
        <div id='charity-fact'>
            {{ makeAWishFact }}
        </div>
        <div id='charity-logo-container'>
            <img src='/img/make-a-wish-logo.png' />
        </div>
    </div>
</div>
<script>
    // Get the modal
    var modal = document.getElementById('invModal');

    // Get the button that opens the modal
    var btn = document.getElementById("invBtn");

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];

    // When the user clicks the button, open the modal
    btn.onclick = function () {
        modal.style.display = "block";
    };

    // When the user clicks on <span> (x), close the modal
    span.onclick = function () {
        modal.style.display = "none";
    };

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function (event) {
        if (event.target === modal) {
            modal.style.display = "none";
        }
    };
</script>